## 缓存逻辑梳理

强制缓存：

1. 客户端请求，服务端会设置`Expires`,`Cache-Control`请求头告诉客户端，在指定时间内从缓存中查找内容，不要再向服务端发起请求
2. 客户端在收到响应头后，10s内从缓存中查找内容
3. 10s后，重复步骤1

协商缓存：

1. 客户端请求，服务端会设置`Expires`,`Cache-Control`请求头，并且通过`Last-Modified`
   请求头表示缓存文件的最后一次更改时间，通知客户端在指定时间内从缓存中查找内容，不要再向服务端发起请求。并且此后客户端每次发请求时都会携带`If-Modified-Since`请求头，它的值为`Last-Modified`
   响应头的值，表示缓存文件的最近一次更改时间
2. 客户端在收到响应头后，10s内从缓存中查找内容，不再发起请求
3. 10s后，服务端再次收到请求，此时会用文件最新的修改时间与`If-Modified-Since`
   携带的请求头对应的时间作对比，如果相同，说明文件没有发生变化，返回304状态码，浏览器继续读取缓存内容。如果不相同，直接读取最新文件返回即可。
   

